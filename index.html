<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- th√™m ƒë·ªÉ responsive -->
<title>Happy Birthday</title>
<style>
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family:'Comic Sans MS',cursive;height:100vh;overflow:hidden;}

.screen {
  position:absolute;top:0;left:0;
  width:100%;height:100%;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  transition: opacity 0.8s ease;
}
.hidden {opacity:0;pointer-events:none;}

/* ===== M√†n h√¨nh 1 ===== */
#screen1 {background: linear-gradient(135deg,#ff9a9e,#fad0c4);color:white;}
#screen1 h1 {font-size:2.3em;margin-bottom:20px;text-shadow:2px 2px 5px rgba(0,0,0,0.3);}
#display {
  padding:12px 15px;border-radius:10px;border:none;outline:none;
  font-size:1.3em;margin-bottom:15px;width:200px;text-align:center;
  background:white;color:black;position:relative; z-index:5;
}
.keypad {
  display:grid;
  grid-template-columns:repeat(3,70px);
  grid-gap:10px;
}
.keypad button {
  padding:15px;border:none;border-radius:10px;
  background:#ff69b4;color:white;cursor:pointer;
  font-size:1.2em;transition:0.2s;
}
.keypad button:hover {background:#ff1493;transform:scale(1.05);}

/* m√®o b·∫Øn tr√°i tim */
#heartCanvas {position:absolute; left:30px; top:50px; width:300px; height:300px; z-index:1;}
/* m√®o v·∫Ω b√°nh */
#catCanvas {position:absolute; right:30px; bottom:50px; width:200px; height:200px; z-index:2;}
/* √¥ ·∫£nh l·ªõn */
#imageBox {position:absolute; top:30px; right:50px; width:250px; height:200px; border-radius:20px; overflow:hidden; z-index:3;}
#imageBox img {width:100%; height:100%; object-fit:cover;}

/* ===== M√†n h√¨nh 2 ===== */
#screen2 {background: linear-gradient(135deg,#a18cd1,#fbc2eb);color:white;overflow:hidden;}
#screen2 h1 {font-size:2.8em;margin-bottom:25px;text-shadow:3px 3px 8px rgba(0,0,0,0.3);}
#screen2 button {
  padding:12px 25px;border:none;border-radius:20px;
  background:#ff4081;color:white;cursor:pointer;font-size:1.1em;
}
#screen2 button:hover {background:#e91e63;}
#messageBox {
  position:absolute; right:50px; top:50px;
  width:350px; height:300px;
  background:rgba(255,255,255,0.3);
  color:#fff; font-size:1.2em;
  padding:20px; border-radius:20px;
  overflow:hidden;
  box-shadow:2px 2px 10px rgba(0,0,0,0.3);
}

/* ===== M√†n h√¨nh 3 ===== */
#screen3 {
  background: linear-gradient(270deg, #ffecd2, #fcb69f, #f6d365, #fda085);
  background-size: 800% 800%;
  animation: bgMove 15s ease infinite;
  overflow: hidden;
  position: relative;
}

@keyframes bgMove {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

#giftBtn {
  padding:15px 30px;border:none;border-radius:30px;
  background:#ff4081;color:white;cursor:pointer;font-size:1.2em;
  transition:0.3s;z-index:10;position:relative;
}
#giftBtn:hover {transform:scale(1.1);background:#e91e63;}

/* === D√≤ng ch·ªØ ch√∫c m·ª´ng === */
#birthdayText {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 2em;
  font-weight: bold;
  color: #fff;
  text-align: center;
  z-index: 15;
  text-shadow: 0 0 5px #fff,
               0 0 10px #ff00de,
               0 0 20px #ff00de,
               0 0 30px #ff0080,
               0 0 40px #ff0080,
               0 0 55px #ff0080,
               0 0 75px #ff0080;
  animation: sparkle 2s infinite alternate;
}
@keyframes sparkle {
  0% {opacity: 0.7; text-shadow: 0 0 5px #fff,0 0 10px #ff00de,0 0 20px #ff00de;}
  50% {opacity: 1; text-shadow: 0 0 10px #fff,0 0 20px #ff00de,0 0 30px #ff0080,0 0 40px #ff0080;}
  100% {opacity: 0.85; text-shadow: 0 0 5px #fff,0 0 15px #ff00de,0 0 25px #ff0080,0 0 35px #ff0080;}
}

/* === ·∫¢nh bay === */
.flying-img {
  position:absolute;
  border-radius:20px;
  border:4px solid #ff4081;
  box-shadow:0 0 12px rgba(0,0,0,0.4);
  opacity:0.95;
  animation: flyAnim linear forwards;
}
@keyframes flyAnim {
  0% {transform: translate(0,0) scale(1);opacity:1;}
  100%{transform: translate(120vw,-50vh) rotate(360deg) scale(0.8);opacity:0;}
}

/* === Tim bay === */
.heart-float {
  position: fixed;
  width: 20px; height: 20px;
  background: red;
  transform: rotate(45deg);
  animation: floatHeart linear forwards;
  opacity: 0.8;
  z-index: 2;
}
.heart-float:before,
.heart-float:after {
  content: "";
  position: absolute;
  width: 20px; height: 20px;
  background: inherit;
  border-radius: 50%;
}
.heart-float:before {left:-10px; top:0;}
.heart-float:after {top:-10px; left:0;}
@keyframes floatHeart {
  0%   {transform:translateY(0) rotate(45deg); opacity:1;}
  100% {transform:translateY(-110vh) rotate(405deg); opacity:0;}
}

/* ==== Responsive ==== */
@media (max-width: 768px) {
  #screen1 h1, #screen2 h1 {font-size: 1.6em; text-align: center;}
  #display {width: 150px; font-size: 1.1em;}
  .keypad {grid-template-columns: repeat(3, 60px); grid-gap: 8px;}
  .keypad button {padding: 12px; font-size: 1.1em;}
  #imageBox {width: 180px; height: 140px; top: 15px; right: 15px;}
  #messageBox {width: 90%; left: 5%; right: 5%; bottom: 20px; font-size: 1em;}
  #giftBtn {padding: 12px 20px; font-size: 1em;}
  #birthdayText {font-size: 1.5em; bottom: 20px;} /* ch·ªânh ch·ªØ nh·ªè h∆°n cho tablet */
  .flying-img {border-radius: 15px; border-width: 3px;}
  .heart-float {width: 15px; height: 15px;}
}
@media (max-width: 480px) {
  #screen1 h1, #screen2 h1 {font-size: 1.3em;}
  #display {width: 130px; font-size: 1em;}
  .keypad {grid-template-columns: repeat(3, 50px); grid-gap: 6px;}
  .keypad button {padding: 10px; font-size: 1em;}
  #imageBox {width: 150px; height: 120px;}
  #giftBtn {padding: 10px 18px; font-size: 0.9em;}
  #birthdayText {font-size: 1.2em; bottom: 15px;} /* ch·ªânh ch·ªØ nh·ªè h∆°n cho mobile */
}
</style>
</head>
<body>

<!-- M√†n h√¨nh 1 -->
<div id="screen1" class="screen">
  <canvas id="heartCanvas"></canvas>
  <canvas id="catCanvas"></canvas>
  <div id="imageBox"><img src="anh/batdau.png" alt="Birthday"></div>
  <h1>üîí Nh·∫≠p m·∫≠t kh·∫©u</h1>
  <input type="password" id="display" readonly>
  <div class="keypad">
    <button onclick="pressNum('1')">1</button>
    <button onclick="pressNum('2')">2</button>
    <button onclick="pressNum('3')">3</button>
    <button onclick="pressNum('4')">4</button>
    <button onclick="pressNum('5')">5</button>
    <button onclick="pressNum('6')">6</button>
    <button onclick="pressNum('7')">7</button>
    <button onclick="pressNum('8')">8</button>
    <button onclick="pressNum('9')">9</button>
    <button onclick="clearOne()">‚å´</button>
    <button onclick="pressNum('0')">0</button>
    <button onclick="checkPass()">OK</button>
  </div>
</div>

<!-- M√†n h√¨nh 2 -->
<div id="screen2" class="screen hidden">
  <h1>üéâ Ch√∫c m·ª´ng sinh nh·∫≠t üéÇ</h1>
  <button onclick="nextScreen()">M·ªü qu√† n√®</button>
  <div id="messageBox"></div>
</div>

<!-- M√†n h√¨nh 3 -->
<div id="screen3" class="screen hidden">
  <button id="giftBtn">üéÅ Nh·∫•n ƒë·ªÉ m·ªü</button>
  <div id="birthdayText">üéâ Ch√∫c m·ª´ng sinh nh·∫≠t üéÇ</div>
</div>

<script>
const screen1=document.getElementById("screen1");
const screen2=document.getElementById("screen2");
const screen3=document.getElementById("screen3");
const giftBtn=document.getElementById("giftBtn");
const display=document.getElementById("display");
const messageBox=document.getElementById("messageBox");

function pressNum(n){display.value+=n;}
function clearOne(){display.value=display.value.slice(0,-1);}
function checkPass(){
  if(display.value==="23062006"){
    screen1.classList.add("hidden");
    setTimeout(()=>{screen2.classList.remove("hidden"); startMessageEffect();},800);
  } else {alert("Sai m·∫≠t kh·∫©u!"); display.value="";}
}
function nextScreen(){
  screen2.classList.add("hidden");
  setTimeout(()=>{screen3.classList.remove("hidden"); startScreen3();},800);
}

const messages=["Ch√∫c em tu·ªïi m·ªõi c√†ng xinh ƒë·∫πp c√≥ th·∫≠t nhi·ªÅu ni·ªÅm vui . M√≥n qu√† nh·ªè c√≥ th·ªÉ ch∆∞a ƒë∆∞·ª£c t·ªët l·∫Øm nh∆∞ng mong em s·∫Ω th√≠ch :33 . HAPPY BIRTHDAY üéÇüéâ"];
let messageIndex=0;
function startMessageEffect(){
  let textIndex=0; messageBox.textContent="";
  function typeLetter(){
    if(messageIndex>=messages.length) messageIndex=0;
    const message=messages[messageIndex];
    if(textIndex<message.length){
      messageBox.textContent+=message[textIndex];
      textIndex++;
      setTimeout(typeLetter,50);
    } else {
      setTimeout(()=>{textIndex=0; messageBox.textContent=""; messageIndex++; setTimeout(typeLetter,50);},2000);
    }
  }
  typeLetter();
}

// ===== M√†n h√¨nh 3 =====
const imgList=["anh1/vy.jpg","anh1/vy1.jpg","anh1/vy2.jpg","anh1/vy3.jpg","anh1/vy4.jpg","anh1/vy5.jpg","anh1/vy6.jpg","anh1/vy7.jpg"];
let flying=false;
const imgCount=12, heartCount=10;

function createFlyingImg(){
  const img=document.createElement("img");
  img.src=imgList[Math.floor(Math.random()*imgList.length)];
  img.className="flying-img";
  const size=50+Math.random()*70;
  img.style.width=size+"px"; img.style.height=size+"px";
  img.style.left="-100px"; img.style.top=(Math.random()*window.innerHeight*0.7+50)+"px";
  img.style.animationDuration=(6+Math.random()*5)+"s";
  screen3.appendChild(img);
  setTimeout(()=>img.remove(),10000);
}
function createHeartFloat(){
  const heart=document.createElement("div");
  heart.className="heart-float";
  heart.style.left=Math.random()*window.innerWidth+"px";
  heart.style.bottom="-20px";
  const size=10+Math.random()*25;
  heart.style.width=size+"px"; heart.style.height=size+"px";
  heart.style.animationDuration=(6+Math.random()*5)+"s";
  screen3.appendChild(heart);
  setTimeout(()=>heart.remove(),8000);
}
function startScreen3(){
  giftBtn.addEventListener("click",()=>{
    if(flying) return; flying=true;
    giftBtn.remove();
    setInterval(()=>{for(let i=0;i<imgCount;i++) createFlyingImg();},2000);
    setInterval(()=>{for(let i=0;i<heartCount;i++) createHeartFloat();},2000);
  });
}
</script>
</body>
</html>
